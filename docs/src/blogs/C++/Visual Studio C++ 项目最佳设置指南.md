---
title: Visual Studio C++ 项目推荐设置
date: 
tags: [C++, Visual Studio, Cherno]
author: shouyu
---

# {{ $frontmatter.title }}
> 作者：shouyu  
> 视频参考：[Cherno C++ 系列](https://youtu.be/qeH9Xv_90KM?si=gOzQ175nb5TQKtVF)

## 1. 创建新项目和解决方案

- 在 Visual Studio 中，依次点击“文件”→“新建”→“项目”，创建全新项目和解决方案。

## 2. 选择项目模板

- 选择“Visual C++”→“常规”→“空项目”模板。

## 3. 项目位置建议

- 推荐将项目存储在 C 盘的中央目录（如 `C:\dev`），避免放在用户文件夹内，便于管理和迁移。
- 勾选“为解决方案创建目录”可自动创建项目文件夹。

## 4. 默认项目结构

- 解决方案文件（.sln）和项目文件夹（含 .vcxproj、.filters）会自动生成，分别位于不同目录。

## 5. 过滤器（Filters）说明

- “源文件”、“头文件”等是虚拟结构，仅用于解决方案资源管理器视图，实际磁盘上并无对应文件夹。

## 6. 默认文件添加行为

- 在过滤器下添加新项（如 main.cpp），文件会直接创建在项目文件夹旁，容易混乱。

## 7. 推荐的源代码组织结构

- 建议在磁盘上新建 `src` 或 `source` 文件夹，专门存放所有 `.cpp` 和 `.h` 文件，使结构更清晰。

## 8. 创建实际文件夹

- 点击“显示所有文件”按钮，切换到实际目录视图。
- 右键选择“添加”→“新建文件夹”，如 `src`。

## 9. 移动源代码文件

- 在“显示所有文件”视图下，将源代码文件拖拽到 `src` 文件夹，实现物理移动。

## 10. 默认构建输出路径

- 默认中间文件（.obj）输出到项目目录下的 Debug 文件夹，最终可执行文件（.exe）输出到解决方案目录下的 Debug 文件夹。
- 这种方式不便于管理，建议更改。

## 11. 更改构建输出路径

- 右键项目，选择“属性”。

## 12. 修改配置

- 在属性窗口顶部选择“所有配置”和“所有平台”，确保设置对所有配置和平台生效。

## 13. 设置输出目录（Output Directory）

- 在“常规”设置下找到“输出目录”，建议设置为：

  ```
  $(SolutionDir)bin\$(Platform)\$(Configuration)\
  ```

  - `$(SolutionDir)`：解决方案根目录
  - `bin`：二进制文件存放目录
  - `$(Platform)`：目标平台（如 Win32、x64）
  - `$(Configuration)`：构建配置（如 Debug、Release）

## 14. 设置中间目录（Intermediate Directory）

- 在“常规”设置下找到“中间目录”，建议设置为：

  ```
  $(SolutionDir)bin\intermediates\$(Platform)\$(Configuration)\
  ```

  - 这样可将中间文件与最终二进制文件分开，便于管理。

## 15. 应用设置并构建

- 点击“确定”应用更改。
- 可右键项目选择“清理”移除旧构建文件，或手动删除旧的 Debug 和 bin 文件夹。
- 最后右键项目选择“构建”。

## 16. 验证新的构建输出结构

- 构建后，解决方案目录下会生成 `bin` 文件夹，包含 `intermediates` 和平台子目录。
- 中间文件（.obj）在 `intermediates` 子目录下，可执行文件（.exe）在平台/配置子目录下。

## 17. 查看宏定义

- 在属性窗口编辑框中点击下拉箭头，选择“编辑”，再点击“宏”按钮，可查看所有可用宏及其值。

---

## 总结

- **核心建议**：将项目文件和源代码文件分开放置（如 `src` 文件夹），并统一将构建输出文件（可执行文件和中间文件）放在解决方案目录下的 `bin` 文件夹中，按平台和配置进一步组织。
- **目的**：提升项目的组织性和可管理性 🗂️🚀

---

如需进一步美化或有其他需求，欢迎随时告知！🎨
